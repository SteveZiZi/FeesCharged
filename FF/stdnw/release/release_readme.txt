版本发布打包脚本使用说明

一、打包原则
发布版本打两个包，一个是升级包，用于现场升级；一个是工厂包，用户新装设备的程序更新。
每个发布包分两层进行打包：最外层包命名信息较全，类似于dyjc_6100_gxjc_factory_v300_20120919.tgz，
方便升级人员、维护人员等识别升级包，升级时维护人员需要在电脑上解开压缩包；
里层包命名为 update.tgz，直接放入装置的升级目录下即可被装置识别，完成升级。

一、脚本介绍
dyjcrelease.srt 本脚本是打包主脚本，不需要用户更改。供各项目打包脚本调用
gxjcpublish.srt 本脚本是各项目的适配脚本，需要用户根据项目的关键了进行更改，可以根据需要命名，本项目以广西集抄为例

二、使用说明
1、完成具体项目的适配脚本
2、将以上脚本拷贝到工作目录
3、在工作目录下建好打包目录，如dyjcupdate
4、将相关文件放入打包目录（dyjcupdate），如升级说明文档（update.doc），版本功能说明文档（release.doc），文档名不要有汉字
5、将需要打包的程序和配置文件目录（全部）放入工作目录（dyjcupdate）
6、运行具体项目的打包适配脚本
7、完成版本发布包的压缩

版本发布流程
1、从服务器上更新全部源代码（coreassets mnt等）；
2、更新版本号（version.h），并完全编译；
2、更新stdgw release note.doc，并拷贝到本目录；
3、执行1_copyfile.srt，完成版本发布文件拷贝；
4、如有需要，进行发布文件整理，如增删文件等；
5、执行2_gwpublish.srt，并传入版本号（纯数字）；



